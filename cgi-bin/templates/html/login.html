<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>SpraySafely_Interface_v5.0</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Aladin">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Calistoga">
    <link rel="stylesheet" href="assets/fonts/fontawesome-all.min.css">
    <link rel="stylesheet" href="assets/fonts/font-awesome.min.css">
    <link rel="stylesheet" href="assets/fonts/ionicons.min.css">
    <link rel="stylesheet" href="assets/fonts/line-awesome.min.css">
    <link rel="stylesheet" href="assets/fonts/fontawesome5-overrides.min.css">
    <link rel="stylesheet" href="assets/css/farmManager.css">
    <link rel="stylesheet" href="assets/css/Footer-Basic.css">
    <link rel="stylesheet" href="assets/css/Login-Form-Clean.css">
    <link rel="stylesheet" href="assets/css/Navigation-with-Button.css">
    <link rel="stylesheet" href="assets/css/SpraySafely_TitleBar.css">
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="assets/css/Button.css">
    <link rel="stylesheet" href="assets/css/Left-Menu-Map-Controls.css">
    <link rel="stylesheet" href="assets/css/Modals.css">
    <link rel="stylesheet" href="assets/css/Columns.css">
</head>

<body class="d-flex flex-grow-1 flex-shrink-1 flex-fill justify-content-center align-items-center align-content-center align-self-center m-auto login-clean" style="background: url(&quot;assets/img/1597889.jpg&quot;) no-repeat; background-size: 100% 100%; margin: 0; padding: 0; min-height: 100vh;">

    <form action="/userlogin" method="post" style="margin-top: 8%;margin-bottom: 10%;">
        <img src="assets/img/SpraySafely_Logo_v2.png" style="width: 230px;padding-bottom: 40px;">

        <h2 class="sr-only">Login Form</h2>
        <div class="illustration" style="padding-bottom: 0px;"></div>
        {% if message %}
            <p style="color: var(--red); text-align: center;">{{ message }}</p>
        {% endif %}
        <div class="form-group"><input class="form-control" type="email" name="email" placeholder="Email" required="" maxlength="none" minlength="4"></div>
        <div class="form-group"><input class="form-control" type="password" name="password" placeholder="Password" required="" pattern="^[a-zA-Z0-9_.-!@#$%\^&*()]*$" maxlength="none" minlength="4"></div>
        <div class="form-group"><button class="btn btn-primary btn-block" action="submit" style="background-color: rgb(92,136,56);">Log In</button></div><a class="forgot" href="/forgotPassword">Forgot your password?</a>

        <div style="text-align: center"><a class="d-md-flex justify-content-md-center button" data-toggle="modal" data-target="#createAccountModal" style="font-size: medium;">Create New Account</a></div>
    </form>














<!-- Create New Account Modal -->
<div id="createAccountModal" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Create New Account</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body">
                <form id="createAccountForm" method="POST" action="/user/create">
                    
                    <!-- Username -->
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" class="form-control" id="username" name="username" required>
                    </div>

                    <!-- Email -->
                    <div class="form-group">
                        <label for="email">Email Address</label>
                        <input type="email" class="form-control" id="email" name="email" required>
                    </div>

                    <!-- Password -->
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" class="form-control" id="password" name="password" required>
                    </div>

                    <!-- Confirm Password -->
                    <div class="form-group">
                        <label for="confirm_password">Confirm Password</label>
                        <input type="password" class="form-control" id="confirm_password" name="confirm_password" required>
                    </div>

                    <!-- Organization Selection -->
                    <p><strong>Are you creating a new organization?</strong></p>
                    <div class="form-group">
                        <input type="radio" id="new_org_yes" name="new_org" value="yes" required>
                        <label for="new_org_yes">Yes, I am creating a new organization.</label><br>

                        <input type="radio" id="new_org_no" name="new_org" value="no" required>
                        <label for="new_org_no">No, I need to be add into an existing organization.</label>
                    </div>

                    <!-- Warning for joining an existing organization -->
                    <p id="orgWarning" style="color: red; display: none;">
                        ⚠️ You must be invited by an existing Organization Owner.
                    </p>

                    <!--<button type="submit" class="btn btn-primary btn-block">Create Account</button>-->
                    <button type="submit" id="createAccountBtn" class="btn btn-primary btn-block">Create Account</button>

                </form>
            </div>
        </div>
    </div>
</div>

<!-- JavaScript to Show/Hide the Warning Message 
<script>
document.getElementById('new_org_no').addEventListener('click', function () {
    document.getElementById('orgWarning').style.display = 'block';
});
document.getElementById('new_org_yes').addEventListener('click', function () {
    document.getElementById('orgWarning').style.display = 'none';
});
</script>

-->

<script>
    document.getElementById('new_org_no').addEventListener('click', function () {
        document.getElementById('orgWarning').style.display = 'block';
        document.getElementById('createAccountBtn').disabled = true;  // Disable the button
    });
    
    document.getElementById('new_org_yes').addEventListener('click', function () {
        document.getElementById('orgWarning').style.display = 'none';
        document.getElementById('createAccountBtn').disabled = false; // Enable the button
    });
</script>
    


















<!--
 <div class="modal fade" role="dialog" tabindex="-1" id="createUserModal">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" style="text-align: center;">Create New User Account</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                
                    <form id="create_account_form" method="POST" action="/user/create">
                        <p id="enterUN_lbl">Enter UserName: <input type="text" id="username" name="username" placeholder="Enter Username"> </p>
                        <p id="enterEmail_lbl">Enter Email:
                        <input type="email" id="email" name="email" placeholder="Enter Email"></p>
                        <p id="ConEmail_lbl">Confirm Email:
                        <input type="email" id="confirm_email" placeholder="Confirm Email"></p>
                        <p id="enterPW_lbl">Enter Password:
                        <input type="password" id="password" name="password" placeholder="Enter Password"></p>
                        <p id="ConPW_lbl">Confirm Password:
                        <input type="password" id="confirm_password" placeholder="Confirm Password"></p>
        
                        <div class="modal-footer">
                            <button class="btn btn-primary" type="button" data-dismiss="modal" >Cancel</button>
                            <button type="submit" id="create_account_btn" class="btn btn-primary">Submit</button>
                        </div>
                    </form>
                
            </div>
        </div>
    </div>

-->



    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/bs-init.js"></script>
    <script src="assets/js/modal_JS.js"></script>
    <script src="assets/js/userMain_JS.js"></script> 
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/login_JS.js"></script>



</body>

</html>